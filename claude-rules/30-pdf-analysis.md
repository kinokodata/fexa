# PDF解析ルール

## 基本方針
1. PDFを読み込んだ際は、同じディレクトリに `text-data.md` ファイルとして出力する
2. Markdown形式で構造化された読みやすい形式で出力する
3. 数式はKatex記法を使用する
4. 簡単な表はMarkdownテーブルで表現し、複雑な図表は画像として扱う

## 出力形式ルール
5. 見出しは適切な階層（##, ###）で構造化する
6. 選択肢は箇条書き（- ア、イ、ウ、エ）で表記する
7. シンプルな表は必ずMarkdownテーブル形式で作成する

## 画像・図表の処理ルール
9. 複雑な図表・グラフ・画像は全て画像ファイルとして扱う
10. 画像リンクは以下の形式で記述する：
    - `![図表の説明](./images/<問番号>_<連番>.png)`
    - 例: `![ネットワーク構成図](./images/q15_1.png)`
    - 例: `![処理フローチャート](./images/q23_2.png)`
11. ALTテキストには図表の内容を詳細に記述する
12. 表、グラフ、図解、写真、イラスト、フローチャート等すべてを対象とする
13. 1つの問題に複数の図表がある場合は連番（_1, _2, _3...）で管理する
14. 実際の画像ファイルはPDFファイルと同階層の `images/` ディレクトリに後で配置する

## 数式・計算ルール
15. 数式は必ずKatex記法（$...$）で記述する
16. 分数は `$\frac{分子}{分母}$` 形式で表現する
17. 指数は `$2^{256}$` のような形式で表現する

## 品質保証ルール
19. 全ページの内容を漏れなく変換する
20. 画像・図表は切り出し情報を記述し、数式のみテキスト化する
21. 選択肢の番号（ア、イ、ウ、エ）は必ず保持する
22. 問題番号は ## 見出しとして明確に区分する

## 特殊要素の処理
23. 表紙や目次は不要
24. 注意事項や凡例は不要
25. メモ用紙などの空白ページは不要
26. 著作権表示や試験情報は不要

## 大容量PDF処理ルール
27. PDFは一度に全部読まずに、10ページずつ段階的に処理する
28. 各10ページごとにtext-data.mdに追記していく
29. 処理済みページ番号を明記してユーザーに進捗を報告する
30. メモリ効率を考慮し、大きなPDFも安定して処理できるようにする