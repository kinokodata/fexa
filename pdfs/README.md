# PDFs ディレクトリ

このディレクトリはIPA（情報処理推進機構）の基本情報技術者試験過去問PDFファイルを配置する場所です。

## 📁 ディレクトリ構造

```
pdfs/
├── README.md                    # このファイル
├── 2024/
│   ├── fe24s_pm.pdf            # 2024年春期午後
│   ├── fe24s_am.pdf            # 2024年春期午前
│   ├── fe24a_pm.pdf            # 2024年秋期午後
│   └── fe24a_am.pdf            # 2024年秋期午前
├── 2023/
│   ├── fe23s_pm.pdf            # 2023年春期午後
│   ├── fe23s_am.pdf            # 2023年春期午前
│   ├── fe23a_pm.pdf            # 2023年秋期午後
│   └── fe23a_am.pdf            # 2023年秋期午前
└── ...
```

## 🔗 PDFファイルの入手

IPAの公式サイトから過去問PDFをダウンロードしてください：

**基本情報技術者試験 過去問題**
https://www.jitec.ipa.go.jp/1_04hanni_sukiru/mondai_kaitou_2024h01.html

各年度・季節ごとに以下のファイルがあります：
- 午前問題 (AM)
- 午後問題 (PM)

**重要**: 
- PDFファイルはローカルの`pdfs/`ディレクトリに保管されます
- 問題内に含まれる画像（図表など）のみSupabaseストレージに保存されます

## 📥 PDFインポート方法

1. **PDFファイルをダウンロード**
   ```bash
   # 例：2024年春期の午前問題
   curl -o pdfs/2024/fe24s_am.pdf "https://www.jitec.ipa.go.jp/..."
   ```

2. **インポートスクリプト実行**
   ```bash
   # 環境変数を設定（.envファイル）
   cp .env.example .env
   # SUPABASE_URL, SUPABASE_SERVICE_KEY等を設定
   
   # インポート実行
   node scripts/import-pdf.js pdfs/2024/fe24s_am.pdf 2024 春期
   ```

3. **結果確認**
   ```bash
   # API経由で確認
   curl http://localhost:43001/api/questions?year=2024&season=春期
   
   # フロントエンドで確認
   open http://localhost:43000
   ```

## ⚠️ 注意事項

### ファイル名規則
- 年度は4桁（例：2024）
- 季節は「春期」「秋期」
- ファイル名は任意ですが、わかりやすい名前を推奨

### 著作権について
- IPAの過去問PDFは学習目的での使用が認められています
- 商用利用や再配布は禁止されています
- 個人の学習・研究目的でのみ使用してください

### ファイルサイズ制限
- ローカル保存: 制限なし
- ただし、大きなPDFファイルは解析に時間がかかる場合があります

## 🛠️ トラブルシューティング

### PDFが解析できない場合
1. ファイルが破損していないか確認
2. 元のPDFが画像スキャンの場合、OCR処理が必要
3. レイアウトが複雑な場合、手動調整が必要

### インポートエラーが発生する場合
1. Supabase接続情報を確認
2. データベースにテーブルが作成されているか確認
3. PDFファイルのパスが正しいか確認

### エラーログの確認
```bash
# Docker環境の場合
docker compose logs backend

# ローカル実行の場合
node scripts/import-pdf.js <pdf> <year> <season> 2>&1 | tee import.log
```

## 📊 推奨ワークフロー

1. **年度ごとにフォルダを作成**
2. **IPAから午前・午後問題をダウンロード**
3. **インポートスクリプトで一括処理**
4. **フロントエンドで結果確認**
5. **問題があれば手動で修正**

これで基本情報技術者試験の過去問データベースが完成します。